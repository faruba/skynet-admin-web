(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4725d65a"],{"81d1":function(e,t,a){},cbf4:function(e,t,a){"use strict";a("81d1")},e382:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("添加用户")]),a("div",{staticClass:"content-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{align:"center",label:"#",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index)+" ")]}}])}),a("el-table-column",{attrs:{prop:"username",label:"账户",width:"180",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"名字",width:"180",align:"center"}}),a("el-table-column",{attrs:{label:"头像",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"avatar-container"},[a("div",{staticClass:"avatar-wrapper"},[a("img",{staticClass:"user-avatar",attrs:{src:e.row.avatar+"?imageView2/1/w/80/h/80"}})])])]}}])}),a("el-table-column",{attrs:{prop:"createtime",label:"创建时间",align:"center"}}),a("el-table-column",{attrs:{prop:"operate",label:"操作",width:"280",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"新增用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"账户名（登录用）","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"名字（昵称）","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAddUser()}}},[e._v("确 定")])],1)],1)],1)},s=[],l=(a("d81d"),a("b0c0"),a("c24f")),r=a("ed08"),o={data:function(){return{list:null,dialogFormVisible:!1,form:{name:"",username:"",password:""},formLabelWidth:"160px"}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Object(l["d"])().then((function(t){e.list=t.data.users.map((function(e){return e.createtime&&(e.createtime=Object(r["a"])(e.createtime)),e}))}))},handleDelete:function(e){var t=this;this.$confirm("确定删除用户 "+e.username+" 吗？, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["b"])({username:e.username}).then((function(e){"OK"===e.code?(t.$message({type:"success",message:"删除成功!"}),t.fetchData()):t.$message({type:"warning",message:e.msg})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},handleAddUser:function(){var e=this;Object(l["a"])({username:this.form.username,password:this.form.password,name:this.form.name,avatar:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif"}).then((function(t){"OK"===t.code?(e.$message({type:"success",message:"添加用户成功!"}),e.fetchData()):e.$message({type:"warning",message:t.msg})}))}}},i=o,c=(a("cbf4"),a("2877")),m=Object(c["a"])(i,n,s,!1,null,"520832c4",null);t["default"]=m.exports}}]);